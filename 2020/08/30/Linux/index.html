<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Linux | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Linux1.Linux目录结构   linux采用级层式树状目录结构，最上层是根目录 “&#x2F;”。    在Linux世界里一切皆文件 1.1. 具体目录结构&#x2F;bin  Binary的缩写，存放着最经常使用的命令 &#x2F;sbin s是super user的意思，存放系统管理员使用的系统管理程序 &#x2F;home  存放普通用户的主目录，在Linux中每个用户都有自己的目录，以该用户的账号名命名 &#x2F;root 系">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="http://yoursite.com/2020/08/30/Linux/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Linux1.Linux目录结构   linux采用级层式树状目录结构，最上层是根目录 “&#x2F;”。    在Linux世界里一切皆文件 1.1. 具体目录结构&#x2F;bin  Binary的缩写，存放着最经常使用的命令 &#x2F;sbin s是super user的意思，存放系统管理员使用的系统管理程序 &#x2F;home  存放普通用户的主目录，在Linux中每个用户都有自己的目录，以该用户的账号名命名 &#x2F;root 系">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yoursite.com/.com//Git/hexo/blog/source_posts/Linux/linux用户管理.JPG">
<meta property="og:image" content="http://yoursite.com/.com//Git/hexo/blog/source_posts/Linux/linux切换用户.JPG">
<meta property="og:image" content="http://yoursite.com/.com//Git/hexo/blog/source_posts/Linux/linux添加用户指定组.JPG">
<meta property="og:image" content="http://yoursite.com/.com//Git/hexo/blog/source_posts/Linux/linux修改用户的组.JPG">
<meta property="article:published_time" content="2020-08-30T12:06:44.000Z">
<meta property="article:modified_time" content="2020-08-30T12:24:40.937Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="-Linux -操作系统">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/.com//Git/hexo/blog/source_posts/Linux/linux用户管理.JPG">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Linux" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/30/Linux/" class="article-date">
  <time datetime="2020-08-30T12:06:44.000Z" itemprop="datePublished">2020-08-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Linux
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><h2 id="1-Linux目录结构"><a href="#1-Linux目录结构" class="headerlink" title="1.Linux目录结构"></a>1.Linux目录结构</h2><p>   linux采用级层式树状目录结构，最上层是根目录 “/”。</p>
<p>   <strong>在Linux世界里一切皆文件</strong></p>
<h4 id="1-1-具体目录结构"><a href="#1-1-具体目录结构" class="headerlink" title="1.1. 具体目录结构"></a>1.1. 具体目录结构</h4><p>/bin  Binary的缩写，存放着最经常使用的命令</p>
<p>/sbin s是super user的意思，存放系统管理员使用的系统管理程序</p>
<p>/home  存放普通用户的主目录，在Linux中每个用户都有自己的目录，以该用户的账号名命名</p>
<p>/root 系统管理员，或者超级权限者的用户主目录</p>
<p>/boot 存放的是启动Linux时使用的一些核心文件，包括一些连接文件和镜像文件</p>
<p>/proc 虚拟的目录，系统内存的映射，访问这个目录获取系统信息</p>
<p>/srv  service的缩写，存放一些服务启动之后需要提取的数据</p>
<p>/sys Linux2.6内核的一个很大变化，存放Linux2.6内核新出现的一个文件系统</p>
<p>/tmp 存放一些临时文件</p>
<p>/dev 类似于windows的设备管理器，所有的硬件用文件形式存储</p>
<p>/media Linux会自动识别一些设备，如U盘，光驱等，识别后，Linux将识别的设备挂载到这个目录下</p>
<p>/mnt  让用户临时挂载别的文件系统，可将外部的存储挂载在/mnt/上，进入该目录就可查看其内容，例如d:/myshare</p>
<p>/opt 给主机额外安装软件的目录，如安装Oracle数据库就可安装在这个目录，默认为空</p>
<p>/usr/local 另一个给主机额外安装软件的目录，一般是通过编译源码安装的程序</p>
<p>/var 存放着不断扩充着的东西，习惯将各种经常被修改的目录放在这个目录下，包括各种日志文件</p>
<p>/selinux  security-enhanced linux SElinux是一种安全子系统，能控制文件只能访问特定文件</p>
<h2 id="2-vi和vim编辑器"><a href="#2-vi和vim编辑器" class="headerlink" title="2.vi和vim编辑器"></a>2.vi和vim编辑器</h2><h4 id="2-1-vi和vim常见模式"><a href="#2-1-vi和vim常见模式" class="headerlink" title="2.1.vi和vim常见模式"></a>2.1.vi和vim常见模式</h4><p>正常模式：可以使用快捷键</p>
<p>插入模式：按下i,I,o,O,a,A中任何一个字母后进入插入模式</p>
<p>命令行模式：提供相关指令</p>
<h4 id="2-2三种模式转换"><a href="#2-2三种模式转换" class="headerlink" title="2.2三种模式转换"></a>2.2三种模式转换</h4><p>![](D:\Git\hexo\blog\source_posts\Linux\linux vi和vim编辑器模式转换.JPG)</p>
<h4 id="2-3常用快捷键"><a href="#2-3常用快捷键" class="headerlink" title="2.3常用快捷键"></a>2.3常用快捷键</h4><p>yy：拷贝当前行</p>
<p>5yy：拷贝当前行向下的5行</p>
<p>p：粘贴</p>
<p>dd：删除当前行</p>
<p>5dd：删除当前行向下的5行</p>
<p>:set nu 显示行号</p>
<p>:set nonu 取消显示行号</p>
<p>G：跳到最末行</p>
<p>gg：跳到最首行</p>
<p>跳到指定行：分三步</p>
<ul>
<li>1.显示行号</li>
<li>2.输入20数字</li>
<li>3.按shift+g跳到20行</li>
</ul>
<p>查找：分两步</p>
<ul>
<li>命令行下 /需查找的关键字</li>
<li>回车</li>
</ul>
<p>撤销上一步：正常模式下输入u</p>
<p>保存退出：:wq</p>
<p>不保存退出：:q!</p>
<p>正常退出(文件未经修改)：:q</p>
<h2 id="3-关机、重启，用户登陆与注销"><a href="#3-关机、重启，用户登陆与注销" class="headerlink" title="3.关机、重启，用户登陆与注销"></a>3.关机、重启，用户登陆与注销</h2><h4 id="3-1关机、重启"><a href="#3-1关机、重启" class="headerlink" title="3.1关机、重启"></a>3.1关机、重启</h4><p>shutdown 关机</p>
<ul>
<li>shutdown -h now 立即关机</li>
<li>shutdown -h 1 一分钟后关机</li>
<li>shutdown -r now 立即重启</li>
</ul>
<p>halt：直接使用，关机</p>
<p>reboot：重启系统</p>
<p>sync：把内存中数据保存到磁盘中</p>
<h4 id="注意细节："><a href="#注意细节：" class="headerlink" title="注意细节："></a>注意细节：</h4><ul>
<li>关机或重启前，应使用sync指令将内存数据保存到磁盘中，防止数据丢失</li>
</ul>
<h3 id="3-2用户登录与注销"><a href="#3-2用户登录与注销" class="headerlink" title="3.2用户登录与注销"></a>3.2用户登录与注销</h3><p>注销：logout</p>
<h2 id="4-用户管理"><a href="#4-用户管理" class="headerlink" title="4.用户管理"></a>4.用户管理</h2><h4 id="4-1基本介绍"><a href="#4-1基本介绍" class="headerlink" title="4.1基本介绍"></a>4.1基本介绍</h4><p><img src="/.com//Git\hexo\blog\source_posts\Linux\linux用户管理.JPG"></p>
<h4 id="说明："><a href="#说明：" class="headerlink" title="说明："></a><strong>说明：</strong></h4><ul>
<li>Linux系统是一个多用户多任务的系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，以这个账号进入系统</li>
<li>Linux用户至少要属于一个组</li>
</ul>
<h4 id="4-2添加用户"><a href="#4-2添加用户" class="headerlink" title="4.2添加用户"></a>4.2添加用户</h4><p>useradd 用户名</p>
<p>示例：useradd xm</p>
<p><strong>说明</strong></p>
<ul>
<li><p>用户创建成功后，系统会自动创建同名的家目录</p>
</li>
<li><p>通过useradd -d 指定目录 新的用户名 可以给新用户指定家目录</p>
<p>示例：useradd -d /home/dog xh</p>
</li>
</ul>
<h4 id="4-3给用户指定或修改密码"><a href="#4-3给用户指定或修改密码" class="headerlink" title="4.3给用户指定或修改密码"></a>4.3给用户指定或修改密码</h4><p>passwd 用户名</p>
<p>示例: passwd xh</p>
<h4 id="4-4删除用户"><a href="#4-4删除用户" class="headerlink" title="4.4删除用户"></a>4.4删除用户</h4><p>userdel 用户名</p>
<p>示例：</p>
<ul>
<li>删除用户，但是保留家目录    userdel xm</li>
<li>删除用户，以及用户瞩目 userdel -r xm</li>
</ul>
<p><strong>说明</strong></p>
<ul>
<li>删除用户时，一般不会删除家目录</li>
</ul>
<h4 id="4-5查询用户"><a href="#4-5查询用户" class="headerlink" title="4.5查询用户"></a>4.5查询用户</h4><p>id 用户名</p>
<p>示例：id xm，可查询用户所在组的信息</p>
<h4 id="4-6切换用户"><a href="#4-6切换用户" class="headerlink" title="4.6切换用户"></a>4.6切换用户</h4><p>su - 用户名</p>
<p>示例：用户zf,指定密码，切换到用户zf</p>
<p><img src="/.com//Git\hexo\blog\source_posts\Linux\linux切换用户.JPG"></p>
<p>说明**</p>
<ul>
<li>从权限高的用户切换到权限低的用户时，不需要输入密码，反之需要</li>
<li>需要返回原来的用户时，采用exit指令</li>
<li>通过 whoami查看当前用户</li>
</ul>
<h4 id="4-7用户组"><a href="#4-7用户组" class="headerlink" title="4.7用户组"></a>4.7用户组</h4><p><strong>介绍</strong></p>
<ul>
<li>组类似于角色，系统可以对有共性的用户进行统一管理</li>
</ul>
<p><strong>添加组</strong>  groupadd 组名</p>
<p><strong>删除组</strong> groupdel 组名</p>
<h4 id="4-8增加用户直接加上组"><a href="#4-8增加用户直接加上组" class="headerlink" title="4.8增加用户直接加上组"></a>4.8增加用户直接加上组</h4><p>useradd -g 组名 用户名</p>
<p>示例：</p>
<p><img src="/.com//Git\hexo\blog\source_posts\Linux\linux添加用户指定组.JPG"></p>
<h4 id="4-9修改用户的组"><a href="#4-9修改用户的组" class="headerlink" title="4.9修改用户的组"></a>4.9修改用户的组</h4><p>usermod -g 组名 用户名</p>
<p><img src="/.com//Git\hexo\blog\source_posts\Linux\linux修改用户的组.JPG"></p>
<h4 id="4-10用户和组的相关文件"><a href="#4-10用户和组的相关文件" class="headerlink" title="4.10用户和组的相关文件"></a>4.10用户和组的相关文件</h4><p><strong>/etc/passwd</strong>：用户的配置文件，记录用户的各种信息</p>
<ul>
<li>用户名：口令：用户id：用户组id：注释性描述：家目录：登陆shell</li>
</ul>
<p><strong>/etc/shadow：</strong>口令的配置文件</p>
<ul>
<li>登录名：加密口令：最后一次修改时间：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：标志</li>
</ul>
<p>/etc/group：组的配置文件，记录Linux包含组的信息</p>
<ul>
<li>组名：口令：组id：组内用户列表</li>
</ul>
<h2 id="5-实用指令"><a href="#5-实用指令" class="headerlink" title="5.实用指令"></a>5.实用指令</h2><h4 id="5-1运行级别"><a href="#5-1运行级别" class="headerlink" title="5.1运行级别"></a>5.1运行级别</h4><ul>
<li>0：关机</li>
<li>1：单用户（找回丢失密码）</li>
<li>2：多用户无网络服务</li>
<li>3：多用户有网络服务</li>
<li>4：保留</li>
<li>5：图形界面</li>
<li>6：重启</li>
</ul>
<p><strong>说明：</strong>系统运行级别配置文件/etc/inittab中，常用级别3和5</p>
<h5 id="切换运行级别：init-1-切换单用户模式"><a href="#切换运行级别：init-1-切换单用户模式" class="headerlink" title="切换运行级别：init 1;切换单用户模式"></a>切换运行级别：init 1;切换单用户模式</h5><h4 id="5-2如何找回丢失的root密码"><a href="#5-2如何找回丢失的root密码" class="headerlink" title="5.2如何找回丢失的root密码"></a>5.2如何找回丢失的root密码</h4><p>进入单用户模式修改密码：开机-&gt;在引导界面，按回车键 -&gt;看到一个界面，输入 e -&gt; 看到一个新的界面(编辑内核)，输入e -&gt; 在新界面最后一行输入，空格1,-&gt;回车，按b</p>
<h4 id="5-3帮助指令"><a href="#5-3帮助指令" class="headerlink" title="5.3帮助指令"></a>5.3帮助指令</h4><p>man 命令或配置文件：获得帮助信息</p>
<p>help 命令：获得shell内置命令的帮助信息</p>
<h4 id="5-4文件目录类"><a href="#5-4文件目录类" class="headerlink" title="5.4文件目录类"></a>5.4文件目录类</h4><p>pwd:描述当前工作目录的绝对路径</p>
<p>ls [选项] [目录或是文件]：查看当前目录的文件信息</p>
<p>常用选项：</p>
<ul>
<li>-a:显示当前目录的所有文件，包括隐藏的</li>
<li>-l:以列表方式显示信息</li>
</ul>
<p>cd [参数]：切换到指定目录</p>
<p>常用参数：</p>
<ul>
<li>cd ~ 或cd : 切换到自己的家目录</li>
<li>cd .. ：回到当前目录的上一级目录</li>
</ul>
<p>mkdir [选项] 要创建的目录 ：用于创建目录</p>
<p>常用选项：</p>
<ul>
<li>-p：用于创建多级目录</li>
</ul>
<p>rmdir [选项] 要删除的目录：删除空目录</p>
<p>删除非空目录：rm -rf 要删除的目录</p>
<p>touch 文件名称：创建空文件</p>
<p>cp[选项] source dest ：拷贝文件到指定目录</p>
<p>常用选项：</p>
<ul>
<li>-r：递归复制整个文件夹</li>
</ul>
<p><strong>说明：</strong></p>
<p>​      cp强制覆盖不提示：\cp</p>
<p>rm [选项] 要删除的文件或者目录：删除文件或目录</p>
<p>常用选项：</p>
<ul>
<li>-r：递归删除文件夹</li>
<li>-f：强制删除不提示</li>
</ul>
<p>mv 旧文件名 新文件名：移动文件、目录或重命名</p>
<p>cat [选项] 要查看的文件：以只读方式查看文件</p>
<p>常用选项：</p>
<ul>
<li>-n：显示行号</li>
</ul>
<p><strong>说明：</strong></p>
<p>​       为了浏览方便，会使用管道命令 |more</p>
<p>​      cat 文件名 | more ：分页显示</p>
<p>more  要查看的文件：以全屏方式按页显示文本文件的内容</p>
<p>常用快捷键：</p>
<ul>
<li>空白键(space)：向下翻一页</li>
<li>Enter：向下翻一行</li>
<li>q：立刻离开more，不再显示该文件内容</li>
<li>Ctrl+F：向下滚动一屏</li>
<li>Ctrl+B：向上滚动一屏</li>
<li>=：输出当前行的行号</li>
<li>f：输出文件名和当前行行号</li>
</ul>
<p>less  要查看的文件：分屏查看文件的内容，不是一次加载整个文件的内容，而是根据显示需要加载内容，对于显示大型文件具有较高的效率</p>
<p>常用快捷键：</p>
<ul>
<li>空白键(space)：向下翻一页</li>
<li>pagedown：向下翻一页</li>
<li>pageup：向上翻一页</li>
<li>/字符串：向下搜寻字符串功能，n：向下搜寻，N：向上搜寻</li>
<li>?字符串：向上搜寻字符串，n：向上查找，N：向下查抄</li>
<li>q：退出less程序</li>
</ul>
<p>指令：&gt; ：输出重定向：会将原来文件的内容覆盖</p>
<p>指令：&gt;&gt;：追加指令：不会覆盖原文件内容，会在末尾追加</p>
<p>基本用法：</p>
<ul>
<li>ls -l &gt;文件： 将列表内容写入a.txt中</li>
<li>ls -l &gt;&gt;文件 ：将列表内容追加到aa.txt中</li>
<li>cat 文件1 &gt; 文件2 ：将文件1的内容覆盖到文件2</li>
<li>echo “内容” &gt;&gt; 文件：将内容追加到文件中</li>
</ul>
<p>echo [选项] [输出内容] ：输出内容到控制台</p>
<p>示例：</p>
<ul>
<li>输出环境变量到控制台：echo $PATH：输出当前的环境路径</li>
</ul>
<p>head：输出文件开头部分的内容，默认10行</p>
<ul>
<li>head -n 5 ：输出前5行内容</li>
<li>head 文件：输出文件前10行内容</li>
</ul>
<p>tail：输出文件尾部内容，默认后10行</p>
<ul>
<li>tail 文件：查看文件后10行</li>
<li>tail -n 5 文件：查看文件后5行</li>
<li>tail -f 文件：查看文件实时更新，工作时经常使用</li>
</ul>
<p>ln：软连接，类似于windows的快捷方式，链接其他文件的路径</p>
<ul>
<li>ln -s [原文件或目录] [软连接] ：给原文件创建一个软连接</li>
</ul>
<p>history：查看执行过的历史指令</p>
<ul>
<li>history 10 ：显示最近用过的10个指令</li>
<li>!178：执行编号为178的指令</li>
</ul>
<h4 id="5-5时间日期类"><a href="#5-5时间日期类" class="headerlink" title="5.5时间日期类"></a>5.5时间日期类</h4><p>date：显示当前日期</p>
<ul>
<li>date：显示当前日期</li>
<li>date +%Y：显示当前年份</li>
<li>date +%m：显示当前月份</li>
<li>date +%d：显示当前日期</li>
<li>date “+%Y-%m-%d %H:%M%S”：显示年月日时分秒</li>
</ul>
<p>date -s 字符串时间：设置系统当前时间</p>
<p>cal：查看日历指令</p>
<ul>
<li>cal [选项]：不加选项，查看当前月份日历</li>
</ul>
<h4 id="5-6搜索查找类"><a href="#5-6搜索查找类" class="headerlink" title="5.6搜索查找类"></a>5.6搜索查找类</h4><p>find：从指定目录递归的向下遍历其子目录，将满足条件的文件或目录显示在终端</p>
<p>find [搜索范围] [选项]</p>
<p>常用选项：</p>
<ul>
<li>-name &lt;查找模式&gt;：按照指定的文件名查找模式查找文件</li>
<li>-user&lt;用户名&gt;：查找属于指定用户名的所有文件</li>
<li>-size&lt;文件大小&gt;：按照指定文件大小查找文件</li>
</ul>
<p>示例：</p>
<ul>
<li>find /home -name hello.txt ：查找/home目录下hello.txt文件</li>
<li>find /opt -user nobody：查找/opt目录下nobody的文件</li>
<li>find / -size +20m：查找整个Linux系统下大于20M的文件，**+：大于，-：小于**</li>
<li>find / -name  *.txt：查找/目录下，所有.txt文件</li>
</ul>
<p>locate：快速定位文件路径，需定期更新locate数据库</p>
<p>locate 搜索文件</p>
<p><strong>说明</strong>：</p>
<p>​         locate指令基于数据库进行查询，第一次使用前使用update创建locate数据库</p>
<p>grep指令：过滤查找</p>
<p>管道符：” | “：表示将前一个命令的输出结果传递给后面的命令处理</p>
<p>gerp [选项] 查找内容 源文件</p>
<p>常用选项：</p>
<ul>
<li>-n 显示匹配行及行号</li>
<li>-i 忽略大小写</li>
</ul>
<h4 id="5-7压缩和解压缩类"><a href="#5-7压缩和解压缩类" class="headerlink" title="5.7压缩和解压缩类"></a>5.7压缩和解压缩类</h4><p>gzip：压缩文件</p>
<p>gunzip：解压文件</p>
<p>基本语法：</p>
<ul>
<li>gzip 文件：压缩文件，只能将文件压缩为*.gz文件</li>
<li>gunzip 文件：解压缩文件</li>
</ul>
<p><strong>说明：</strong></p>
<p>​           使用gzip 指令压缩文件后，原文件将被删除</p>
<p>zip：压缩文件</p>
<p>unzip：解压文件，在项目打包发布中有很大作用</p>
<p>基本语法：</p>
<ul>
<li>zip [选项] xxx.zip 将要压缩的内容：压缩文件和目录的命令</li>
<li>unzip [选项] xxx.zip ：解压缩文件</li>
</ul>
<p>常用选项：</p>
<ul>
<li>zip常用选项：<ul>
<li>-r：递归压缩，即压缩目录</li>
</ul>
</li>
<li>unzip 常用选项：<ul>
<li>-d&lt;目录&gt;：指定解压后文件的存放目录</li>
</ul>
</li>
</ul>
<p>tar指令：打包指令，最后打包的文件是tar.gz文件</p>
<p>基本语法：</p>
<p>tar [选项] xxx.tar.gz 打包的内容：打包目录，压缩后的文件格式.tar.gz</p>
<p>常用选项：</p>
<ul>
<li>-c：产生.tar.gz的打包文件</li>
<li>-v：显示详细信息</li>
<li>-f：指定压缩后的文件名</li>
<li>-z：打包同时压缩</li>
<li>-x：解包.tar文件</li>
<li>打包：tar -zcvf 需打包的文件</li>
<li>解压：tar -zxvf 需解压的文件</li>
</ul>
<p>示例：</p>
<ul>
<li>压缩多个文件，将/home/a.txt，a1.txt打包成a.tar.gz</li>
</ul>
<h2 id="6-组管理和权限管理"><a href="#6-组管理和权限管理" class="headerlink" title="6.组管理和权限管理"></a>6.组管理和权限管理</h2><h4 id="6-1基本介绍"><a href="#6-1基本介绍" class="headerlink" title="6.1基本介绍"></a>6.1基本介绍</h4><p>Linux中每个用户都必须属于一个组，每个文件有所有者，所在组，其他组概念</p>
<ul>
<li>所有者</li>
<li>所在组</li>
<li>其他组</li>
<li>改变用户所在的组</li>
</ul>
<h4 id="6-2文件-目录所有者"><a href="#6-2文件-目录所有者" class="headerlink" title="6.2文件/目录所有者"></a>6.2文件/目录所有者</h4><p>一般为文件的创建者，谁创建了该文件，谁就自然成为文件所有者</p>
<p>ls -ahl ：查看文件所有者 </p>
<ul>
<li>-a 查看所有文件包括隐藏文件</li>
<li>-h human，所有者</li>
<li>-l 列表模式</li>
</ul>
<p>chown 用户名 文件名：修改文件所有者，change owner，不改变文件的所在组</p>
<h4 id="6-3组的创建"><a href="#6-3组的创建" class="headerlink" title="6.3组的创建"></a>6.3组的创建</h4><p>groupadd 用户组：创建用户组</p>
<h4 id="6-4文件-目录所在组"><a href="#6-4文件-目录所在组" class="headerlink" title="6.4文件/目录所在组"></a>6.4文件/目录所在组</h4><p>chgrp 组名 文件名：修改所在组</p>
<h4 id="6-5其他组"><a href="#6-5其他组" class="headerlink" title="6.5其他组"></a>6.5其他组</h4><p>除文件所有者和所在组的用户外，系统的其他用户都是文件的其他组</p>
<p>添加用户时，可以指定用户添加到哪个组中，用root管理权限可以改变用户所在的组</p>
<p>改变用户的组：</p>
<ul>
<li>usermod -g 组名 用户名</li>
<li>usermod -d 目录名 用户名：改变用户登陆的初始目录</li>
</ul>
<h4 id="6-6权限的基本介绍"><a href="#6-6权限的基本介绍" class="headerlink" title="6.6权限的基本介绍"></a>6.6权限的基本介绍</h4><p>ls -l显示的内容如下：</p>
<p>-rwxrw-r– 1 root root 1213 Feb 2 09:39 abc</p>
<p>0-9位说明：</p>
<ul>
<li>第0位确定文件类型(d, - , c , b)</li>
<li>第1-3位确定文件的所有者对文件拥有的权限 –User</li>
<li>第4-6位确定文件所属组(用户所在组其他用户)所拥有的权限 –Group</li>
<li>第7-9位确定其他用户所拥有的权限 –Other</li>
</ul>
<h4 id="6-7rwx权限详解"><a href="#6-7rwx权限详解" class="headerlink" title="6.7rwx权限详解"></a>6.7rwx权限详解</h4><p><strong>rwx作用到文件</strong></p>
<ul>
<li>r代表可读(read)，可以读取查看</li>
<li>w代表可写(write)，可以修改，但是不代表可以删除该文件，删除一个文件的前提条件是对该文件所在目录有写权限，才能删除该文件</li>
<li>x代表可执行(execute)，可以被执行</li>
</ul>
<p><strong>rwx作用到目录</strong></p>
<ul>
<li>r代表可读(read)，可以读取，ls查看目录内容</li>
<li>w代表可写(write)，目录内创建+删除+重命名目录</li>
<li>x代表可执行(execute)，可以进入该目录</li>
</ul>
<p>示例：</p>
<p>-rwxrw-r– 1 root root 1213 Feb 2 09:39 abc</p>
<p>10个字符确定不同用户对文件能干什么</p>
<p>第一个字符代表文件的类型：文件(-)，目录(d)，软链接(l)</p>
<p>其余字符3个一组(rwx)，读(r)，写(w)，执行(x)</p>
<p>第一组rwx：文件拥有者对文件有读写执行的权限</p>
<p>第二组rw-：与文件拥有者同一组的用户拥有的权限是读，写，但不能执行</p>
<p>第三组r–：不与文件拥有者同一组的用户拥有的权限是读，不能写和执行</p>
<p>可以用数字表示为：r=4，w=2，x=1，因此rwx=4+2+1=7</p>
<p>1  :   文件的硬连接数 或 目录 ：子目录数</p>
<p>root :  文件拥有者</p>
<p>root : 文件所在组</p>
<p>1213 ：文件大小(字节)，如果是文件夹，显示4096字节</p>
<p>Feb 2 09:39  ：文件的最后修改时间</p>
<p>abc  ： 文件名</p>
<h4 id="6-8权限管理"><a href="#6-8权限管理" class="headerlink" title="6.8权限管理"></a>6.8权限管理</h4><p>chmod ：修改文件或目录权限的指令</p>
<ol>
<li><p>通过+、-、=变更权限(u:所有者，g:所在组，o:其他人，a:所有人(u,g,o的总和))</p>
<ul>
<li>chmod u=rwx,g=rx,o=rx 文件目录名</li>
<li>chmod o+w 文件目录名</li>
<li>chmod a-x 文件目录名</li>
</ul>
</li>
<li><p>通过数字变更权限</p>
<p>规则：r=4，w=2，x=1</p>
<p>chmod u=rwx,g=rx,o=rx等价于755</p>
</li>
</ol>
<h4 id="6-9修改文件所有者"><a href="#6-9修改文件所有者" class="headerlink" title="6.9修改文件所有者"></a>6.9修改文件所有者</h4><p>chown newowner 文件名：改变文件所有者</p>
<p>chown newowner:newgroup 文件名 ：改变用户的所有者和所在组</p>
<p>-R 如果是目录，则使其下所有的子文件和目录递归生效</p>
<p>示例：</p>
<p>将/home/kkk目录下所有的文件和目录所有者都修改成tom</p>
<p>chown -R tom /home/kkk</p>
<h4 id="6-10修改文件所在组"><a href="#6-10修改文件所在组" class="headerlink" title="6.10修改文件所在组"></a>6.10修改文件所在组</h4><p>chgrp newgroup 文件名：改变文件用户组</p>
<p>chgrp -R newgroup 文件名：递归的改变文件或目录的所在组</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/08/30/Linux/" data-id="ckeh2v4ml0001z4o0645y2zbe" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">-Linux -操作系统</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2020/08/30/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">-Linux -操作系统</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">-Linux -操作系统</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/08/30/Linux/">Linux</a>
          </li>
        
          <li>
            <a href="/2020/08/30/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>